#!/data/data/com.termux/files/usr/bin/python3

import sys
import os

# Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø± yowsup
sys.path.append('/data/data/com.termux/files/usr/lib/python3.11/site-packages')

try:
    from yowsup.layers.interface import YowInterfaceLayer, ProtocolEntityCallback
    from yowsup.layers.protocol_messages.protocolentities import TextMessageProtocolEntity
    from yowsup.layers import YowLayerEvent
    from yowsup.layers.auth import YowAuthenticationProtocolLayer
    from yowsup.layers.protocol_messages import YowMessagesProtocolLayer
    from yowsup.layers.protocol_receipts import YowReceiptProtocolLayer
    from yowsup.layers.protocol_acks import YowAckProtocolLayer
    from yowsup.layers.network import YowNetworkLayer
    from yowsup.stacks import YowStack
    from yowsup.common import YowConstants
    from yowsup.layers import YowLayerEvent
    from yowsup import env
    
    class WhatsAppLayer(YowInterfaceLayer):
        def __init__(self):
            super().__init__()
            self.messages_to_send = []
        
        @ProtocolEntityCallback("message")
        def onMessage(self, messageProtocolEntity):
            # ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙˆØ§Ø±Ø¯Ø©
            pass
        
        def send_message(self, to_jid, message):
            message_entity = TextMessageProtocolEntity(message, to=to_jid)
            self.toLower(message_entity)
            print(f"âœ… Ø£Ø±Ø³Ù„Øª Ø¥Ù„Ù‰ {to_jid}: {message}")
        
        def set_messages(self, messages):
            self.messages_to_send = messages
        
        def onEvent(self, event):
            if event.getName() == YowNetworkLayer.EVENT_STATE_CONNECTED:
                print("âœ… Ù…ØªØµÙ„ Ø¨Ù€ WhatsApp!")
                for to_jid, message in self.messages_to_send:
                    self.send_message(to_jid, message)
                # Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø£ØºØ±Ù‚ Ø§Ù„Ø§ØªØµØ§Ù„
                raise KeyboardInterrupt
        
    def send_real_whatsapp():
        os.system('clear')
        print("\033[1;31m" + "=" * 60)
        print("âš ï¸  WhatsApp via Yowsup (ØºÙŠØ± Ø±Ø³Ù…ÙŠ)")
        print("=" * 60 + "\033[0m")
        
        print("\nâš ï¸  ØªØ­Ø°ÙŠØ±:")
        print("â€¢ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© ØºÙŠØ± Ø±Ø³Ù…ÙŠØ© ÙˆÙ‚Ø¯ ØªØ¤Ø¯ÙŠ Ù„Ø­Ø¸Ø± Ø±Ù‚Ù…Ùƒ")
        print("â€¢ WhatsApp Ù‚Ø¯ ÙŠÙ…Ù†Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©")
        print("â€¢ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù„Ù‰ Ù…Ø³Ø¤ÙˆÙ„ÙŠØªÙƒ Ø§Ù„Ø®Ø§ØµØ©")
        
        print("\nğŸ“± ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰:")
        print("1. Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ù…Ø³Ø¬Ù„ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨")
        print("2. ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± SMS")
        
        phone = input("\nğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ù…Ø«Ø§Ù„: 966501234567): ").strip()
        
        if not phone:
            print("âŒ Ø§Ù„Ø±Ù‚Ù… Ù…Ø·Ù„ÙˆØ¨!")
            return
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ (ÙŠØ¬Ø¨ ØªÙ†ÙÙŠØ° Ù‡Ø°Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹)
        print(f"\nğŸ“² Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© SMS Ø¹Ù„Ù‰ {phone}")
        print("ğŸ”‘ Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…:")
        
        # Ù‡Ù†Ø§ ÙŠØ¬Ø¨ ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ yowsup
        # Ù„ÙƒÙ†Ù‡Ø§ Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØªØ·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„Ø§Øª ÙƒØ«ÙŠØ±Ø©
        
        print("\nâŒ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙƒÙˆÙŠÙ† Ø¥Ø¶Ø§ÙÙŠ")
        print("ğŸ”— Ø±Ø§Ø¬Ø¹ ÙˆØ«Ø§Ø¦Ù‚ yowsup: https://github.com/tgalal/yowsup")
        
except ImportError:
    print("âŒ yowsup ØºÙŠØ± Ù…Ø«Ø¨Øª!")
    print("ğŸ”§ Ù‚Ù… Ø¨Ø§Ù„ØªØ«Ø¨ÙŠØª:")
    print("pip install yowsup2")#!/data/data/com.termux/files/usr/bin/python3

import sys
import os

# Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø± yowsup
sys.path.append('/data/data/com.termux/files/usr/lib/python3.11/site-packages')

try:
    from yowsup.layers.interface import YowInterfaceLayer, ProtocolEntityCallback
    from yowsup.layers.protocol_messages.protocolentities import TextMessageProtocolEntity
    from yowsup.layers import YowLayerEvent
    from yowsup.layers.auth import YowAuthenticationProtocolLayer
    from yowsup.layers.protocol_messages import YowMessagesProtocolLayer
    from yowsup.layers.protocol_receipts import YowReceiptProtocolLayer
    from yowsup.layers.protocol_acks import YowAckProtocolLayer
    from yowsup.layers.network import YowNetworkLayer
    from yowsup.stacks import YowStack
    from yowsup.common import YowConstants
    from yowsup.layers import YowLayerEvent
    from yowsup import env
    
    class WhatsAppLayer(YowInterfaceLayer):
        def __init__(self):
            super().__init__()
            self.messages_to_send = []
        
        @ProtocolEntityCallback("message")
        def onMessage(self, messageProtocolEntity):
            # ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙˆØ§Ø±Ø¯Ø©
            pass
        
        def send_message(self, to_jid, message):
            message_entity = TextMessageProtocolEntity(message, to=to_jid)
            self.toLower(message_entity)
            print(f"âœ… Ø£Ø±Ø³Ù„Øª Ø¥Ù„Ù‰ {to_jid}: {message}")
        
        def set_messages(self, messages):
            self.messages_to_send = messages
        
        def onEvent(self, event):
            if event.getName() == YowNetworkLayer.EVENT_STATE_CONNECTED:
                print("âœ… Ù…ØªØµÙ„ Ø¨Ù€ WhatsApp!")
                for to_jid, message in self.messages_to_send:
                    self.send_message(to_jid, message)
                # Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø£ØºØ±Ù‚ Ø§Ù„Ø§ØªØµØ§Ù„
                raise KeyboardInterrupt
        
    def send_real_whatsapp():
        os.system('clear')
        print("\033[1;31m" + "=" * 60)
        print("âš ï¸  WhatsApp via Yowsup (ØºÙŠØ± Ø±Ø³Ù…ÙŠ)")
        print("=" * 60 + "\033[0m")
        
        print("\nâš ï¸  ØªØ­Ø°ÙŠØ±:")
        print("â€¢ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© ØºÙŠØ± Ø±Ø³Ù…ÙŠØ© ÙˆÙ‚Ø¯ ØªØ¤Ø¯ÙŠ Ù„Ø­Ø¸Ø± Ø±Ù‚Ù…Ùƒ")
        print("â€¢ WhatsApp Ù‚Ø¯ ÙŠÙ…Ù†Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©")
        print("â€¢ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù„Ù‰ Ù…Ø³Ø¤ÙˆÙ„ÙŠØªÙƒ Ø§Ù„Ø®Ø§ØµØ©")
        
        print("\nğŸ“± ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰:")
        print("1. Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ù…Ø³Ø¬Ù„ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨")
        print("2. ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± SMS")
        
        phone = input("\nğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ù…Ø«Ø§Ù„: 966501234567): ").strip()
        
        if not phone:
            print("âŒ Ø§Ù„Ø±Ù‚Ù… Ù…Ø·Ù„ÙˆØ¨!")
            return
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ (ÙŠØ¬Ø¨ ØªÙ†ÙÙŠØ° Ù‡Ø°Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹)
        print(f"\nğŸ“² Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© SMS Ø¹Ù„Ù‰ {phone}")
        print("ğŸ”‘ Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…:")
        
        # Ù‡Ù†Ø§ ÙŠØ¬Ø¨ ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ yowsup
        # Ù„ÙƒÙ†Ù‡Ø§ Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØªØ·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„Ø§Øª ÙƒØ«ÙŠØ±Ø©
        
        print("\nâŒ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙƒÙˆÙŠÙ† Ø¥Ø¶Ø§ÙÙŠ")
        print("ğŸ”— Ø±Ø§Ø¬Ø¹ ÙˆØ«Ø§Ø¦Ù‚ yowsup: https://github.com/tgalal/yowsup")
        
except ImportError:
    print("âŒ yowsup ØºÙŠØ± Ù…Ø«Ø¨Øª!")
    print("ğŸ”§ Ù‚Ù… Ø¨Ø§Ù„ØªØ«Ø¨ÙŠØª:")
    print("pip install yowsup2")
